<!doctype html>

<html lang="en">
    <head>
        <meta charset="utf-8">

        <title>Dojo Toolkit dijit.form.FilteringSelect</title>

        <style>
            .dijitMenu {
                border: 1px solid black;
            }
            .dijitMenuItem+.dijitMenuItem {
                border-top: 1px solid black;
            }
            .dijitMenuItem>div {
                display: inline-block;
            }
            .dijitMenuItem>div+div {
                border-left: 1px solid black;
            }
            .name {
                width: 300px;
            }
            .county-name {
                width: 200px;
            }
            .state {
                width: 50px;
            }
            .dijitMenuItemHover, .dijitMenuItemSelected {
                background-color: lightgray;
            }
		</style>
	</head>
	<body>
        <div id="city"></div>
        <input id="cities"/>

        <script src="Cities_in_PA_USA.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.8.6/dojo/dojo.js"></script>
		<script>
            require(["dijit/form/FilteringSelect", "dojo/dom", "dojo/store/Memory", "dojo/domReady!"], function(FilteringSelect, dom, Memory) {
                new FilteringSelect({
                    autoComplete: true,
                    hasDownArrow: false,
                    required: false,
                    searchAttr: "name",
                    store: new Memory({data:Cities_in_PA_USA, idProperty:"feature_id"}),
                    labelType: "html",
                    labelFunc: function(item) {
                        return "<div class='name'>" + item.name + "</div><div class='county-name'>" + item.county_name + "</div><div class='state'>" + item.state_abbreviation + "</div>";
                    }
                }, "cities").on("change", function(city) {
                    dom.byId("city").innerHTML = city;
                });
            });
        </script>
	</body>
</html>
